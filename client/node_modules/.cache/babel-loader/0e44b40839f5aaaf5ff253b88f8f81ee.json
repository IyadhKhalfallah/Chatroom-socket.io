{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/macbook/Desktop/Zaion/Chatroom-with-Nodejs-React/client/src/components/home/Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState, useEffect } from 'react';\nimport { UserContext } from '../../UserContext';\nimport { Redirect } from 'react-router-dom';\nimport RoomList from './RoomList';\nimport io from 'socket.io-client';\nimport PropTypes from 'prop-types';\nimport Tabs from '@mui/material/Tabs';\nimport Tab from '@mui/material/Tab';\nimport Typography from '@mui/material/Typography';\nimport Box from '@mui/material/Box';\nlet socket;\n\nfunction TabPanel(props) {\n  const {\n    children,\n    value,\n    index,\n    ...other\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    role: \"tabpanel\",\n    hidden: value !== index,\n    id: `simple-tabpanel-${index}`,\n    \"aria-labelledby\": `simple-tab-${index}`,\n    ...other,\n    children: value === index && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 9\n  }, this);\n}\n\n_c = TabPanel;\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.number.isRequired,\n  value: PropTypes.number.isRequired\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`\n  };\n}\n\nconst Home = () => {\n  _s();\n\n  const {\n    user,\n    setUser\n  } = useContext(UserContext);\n  const [room, setRoom] = useState('');\n  const [value, setValue] = useState(0);\n  const [rooms, setRooms] = useState([]);\n  const ENDPT = 'localhost:5000';\n  useEffect(() => {\n    socket = io(ENDPT);\n    return () => {\n      socket.disconnect();\n      socket.off();\n    };\n  }, [ENDPT]);\n  useEffect(() => {\n    socket.on('output-rooms', rooms => {\n      setRooms(rooms.filter(room => room.users.includes(user._id)));\n    });\n  }, []);\n  useEffect(() => {\n    socket.on('room-created', room => {\n      setRooms([...rooms, room]);\n    });\n  }, [rooms]);\n  useEffect(() => {\n    console.log(rooms);\n  }, [rooms]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    socket.emit('create-room', {\n      name: room,\n      user_id: user._id\n    });\n    console.log(room);\n    setRoom('');\n  };\n\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 16\n    }, this);\n  }\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      width: '100%'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        borderBottom: 1,\n        borderColor: 'divider'\n      },\n      children: /*#__PURE__*/_jsxDEV(Tabs, {\n        value: value,\n        onChange: handleChange,\n        \"aria-label\": \"basic tabs example\",\n        children: [/*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Item One\",\n          ...a11yProps(0)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Item Two\",\n          ...a11yProps(1)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Item Three\",\n          ...a11yProps(2)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n      value: value,\n      index: 0,\n      children: \"Item One\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n      value: value,\n      index: 1,\n      children: \"Item Two\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n      value: value,\n      index: 2,\n      children: \"Item Three\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Home, \"5QKVVBjjoikZJqeAOhSkHKOTw3Q=\");\n\n_c2 = Home;\nexport default Home;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TabPanel\");\n$RefreshReg$(_c2, \"Home\");","map":{"version":3,"sources":["/Users/macbook/Desktop/Zaion/Chatroom-with-Nodejs-React/client/src/components/home/Home.js"],"names":["React","useContext","useState","useEffect","UserContext","Redirect","RoomList","io","PropTypes","Tabs","Tab","Typography","Box","socket","TabPanel","props","children","value","index","other","p","propTypes","node","number","isRequired","a11yProps","id","Home","user","setUser","room","setRoom","setValue","rooms","setRooms","ENDPT","disconnect","off","on","filter","users","includes","_id","console","log","handleSubmit","e","preventDefault","emit","name","user_id","handleChange","event","newValue","width","borderBottom","borderColor"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,EAAsCC,SAAtC,QAAuD,OAAvD;AACA,SAASC,WAAT,QAA4B,mBAA5B;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,EAAP,MAAe,kBAAf;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,IAAIC,MAAJ;;AAEA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AACrB,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,KAAZ;AAAmBC,IAAAA,KAAnB;AAA0B,OAAGC;AAA7B,MAAuCJ,KAA7C;AAEA,sBACI;AACI,IAAA,IAAI,EAAC,UADT;AAEI,IAAA,MAAM,EAAEE,KAAK,KAAKC,KAFtB;AAGI,IAAA,EAAE,EAAG,mBAAkBA,KAAM,EAHjC;AAII,uBAAkB,cAAaA,KAAM,EAJzC;AAAA,OAKQC,KALR;AAAA,cAOKF,KAAK,KAAKC,KAAV,iBACG,QAAC,GAAD;AAAK,MAAA,EAAE,EAAE;AAAEE,QAAAA,CAAC,EAAE;AAAL,OAAT;AAAA,6BACI,QAAC,UAAD;AAAA,kBAAaJ;AAAb;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AARR;AAAA;AAAA;AAAA;AAAA,UADJ;AAeH;;KAlBQF,Q;AAoBTA,QAAQ,CAACO,SAAT,GAAqB;AACjBL,EAAAA,QAAQ,EAAER,SAAS,CAACc,IADH;AAEjBJ,EAAAA,KAAK,EAAEV,SAAS,CAACe,MAAV,CAAiBC,UAFP;AAGjBP,EAAAA,KAAK,EAAET,SAAS,CAACe,MAAV,CAAiBC;AAHP,CAArB;;AAMA,SAASC,SAAT,CAAmBP,KAAnB,EAA0B;AACtB,SAAO;AACHQ,IAAAA,EAAE,EAAG,cAAaR,KAAM,EADrB;AAEH,qBAAkB,mBAAkBA,KAAM;AAFvC,GAAP;AAIH;;AACD,MAAMS,IAAI,GAAG,MAAM;AAAA;;AACf,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAoB5B,UAAU,CAACG,WAAD,CAApC;AACA,QAAM,CAAC0B,IAAD,EAAOC,OAAP,IAAkB7B,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACe,KAAD,EAAQe,QAAR,IAAoB9B,QAAQ,CAAC,CAAD,CAAlC;AACA,QAAM,CAAC+B,KAAD,EAAQC,QAAR,IAAoBhC,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAMiC,KAAK,GAAG,gBAAd;AACAhC,EAAAA,SAAS,CAAC,MAAM;AACZU,IAAAA,MAAM,GAAGN,EAAE,CAAC4B,KAAD,CAAX;AACA,WAAO,MAAM;AACTtB,MAAAA,MAAM,CAACuB,UAAP;AACAvB,MAAAA,MAAM,CAACwB,GAAP;AACH,KAHD;AAIH,GANQ,EAMN,CAACF,KAAD,CANM,CAAT;AAOAhC,EAAAA,SAAS,CAAC,MAAM;AACZU,IAAAA,MAAM,CAACyB,EAAP,CAAU,cAAV,EAA0BL,KAAK,IAAI;AAC/BC,MAAAA,QAAQ,CAACD,KAAK,CAACM,MAAN,CAAaT,IAAI,IAAIA,IAAI,CAACU,KAAL,CAAWC,QAAX,CAAoBb,IAAI,CAACc,GAAzB,CAArB,CAAD,CAAR;AACH,KAFD;AAIH,GALQ,EAKN,EALM,CAAT;AAMAvC,EAAAA,SAAS,CAAC,MAAM;AACZU,IAAAA,MAAM,CAACyB,EAAP,CAAU,cAAV,EAA0BR,IAAI,IAAI;AAC9BI,MAAAA,QAAQ,CAAC,CAAC,GAAGD,KAAJ,EAAWH,IAAX,CAAD,CAAR;AACH,KAFD;AAGH,GAJQ,EAIN,CAACG,KAAD,CAJM,CAAT;AAKA9B,EAAAA,SAAS,CAAC,MAAM;AACZwC,IAAAA,OAAO,CAACC,GAAR,CAAYX,KAAZ;AACH,GAFQ,EAEN,CAACA,KAAD,CAFM,CAAT;;AAIA,QAAMY,YAAY,GAAGC,CAAC,IAAI;AACtBA,IAAAA,CAAC,CAACC,cAAF;AACAlC,IAAAA,MAAM,CAACmC,IAAP,CAAY,aAAZ,EAA2B;AAAEC,MAAAA,IAAI,EAAEnB,IAAR;AAAcoB,MAAAA,OAAO,EAAEtB,IAAI,CAACc;AAA5B,KAA3B;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYd,IAAZ;AACAC,IAAAA,OAAO,CAAC,EAAD,CAAP;AAEH,GAND;;AAQA,MAAI,CAACH,IAAL,EAAW;AACP,wBAAO,QAAC,QAAD;AAAU,MAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,YAAP;AACH;;AACD,QAAMuB,YAAY,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB;AACtCrB,IAAAA,QAAQ,CAACqB,QAAD,CAAR;AACH,GAFD;;AAGA,sBACI,QAAC,GAAD;AAAK,IAAA,EAAE,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAAT;AAAA,4BACI,QAAC,GAAD;AAAK,MAAA,EAAE,EAAE;AAAEC,QAAAA,YAAY,EAAE,CAAhB;AAAmBC,QAAAA,WAAW,EAAE;AAAhC,OAAT;AAAA,6BACI,QAAC,IAAD;AAAM,QAAA,KAAK,EAAEvC,KAAb;AAAoB,QAAA,QAAQ,EAAEkC,YAA9B;AAA4C,sBAAW,oBAAvD;AAAA,gCACI,QAAC,GAAD;AAAK,UAAA,KAAK,EAAC,UAAX;AAAA,aAA0B1B,SAAS,CAAC,CAAD;AAAnC;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI,QAAC,GAAD;AAAK,UAAA,KAAK,EAAC,UAAX;AAAA,aAA0BA,SAAS,CAAC,CAAD;AAAnC;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI,QAAC,GAAD;AAAK,UAAA,KAAK,EAAC,YAAX;AAAA,aAA4BA,SAAS,CAAC,CAAD;AAArC;AAAA;AAAA;AAAA;AAAA,gBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ,eAQI,QAAC,QAAD;AAAU,MAAA,KAAK,EAAER,KAAjB;AAAwB,MAAA,KAAK,EAAE,CAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YARJ,eAWI,QAAC,QAAD;AAAU,MAAA,KAAK,EAAEA,KAAjB;AAAwB,MAAA,KAAK,EAAE,CAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAXJ,eAcI,QAAC,QAAD;AAAU,MAAA,KAAK,EAAEA,KAAjB;AAAwB,MAAA,KAAK,EAAE,CAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAdJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAoBH,CA9DD;;GAAMU,I;;MAAAA,I;AAgEN,eAAeA,IAAf","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport { UserContext } from '../../UserContext';\nimport { Redirect } from 'react-router-dom';\nimport RoomList from './RoomList';\nimport io from 'socket.io-client';\nimport PropTypes from 'prop-types';\nimport Tabs from '@mui/material/Tabs';\nimport Tab from '@mui/material/Tab';\nimport Typography from '@mui/material/Typography';\nimport Box from '@mui/material/Box';\nlet socket;\n\nfunction TabPanel(props) {\n    const { children, value, index, ...other } = props;\n\n    return (\n        <div\n            role=\"tabpanel\"\n            hidden={value !== index}\n            id={`simple-tabpanel-${index}`}\n            aria-labelledby={`simple-tab-${index}`}\n            {...other}\n        >\n            {value === index && (\n                <Box sx={{ p: 3 }}>\n                    <Typography>{children}</Typography>\n                </Box>\n            )}\n        </div>\n    );\n}\n\nTabPanel.propTypes = {\n    children: PropTypes.node,\n    index: PropTypes.number.isRequired,\n    value: PropTypes.number.isRequired,\n};\n\nfunction a11yProps(index) {\n    return {\n        id: `simple-tab-${index}`,\n        'aria-controls': `simple-tabpanel-${index}`,\n    };\n}\nconst Home = () => {\n    const { user, setUser } = useContext(UserContext);\n    const [room, setRoom] = useState('');\n    const [value, setValue] = useState(0);\n    const [rooms, setRooms] = useState([]);\n    const ENDPT = 'localhost:5000';\n    useEffect(() => {\n        socket = io(ENDPT);\n        return () => {\n            socket.disconnect();\n            socket.off();\n        }\n    }, [ENDPT])\n    useEffect(() => {\n        socket.on('output-rooms', rooms => {\n            setRooms(rooms.filter(room => room.users.includes(user._id)))\n        })\n\n    }, [])\n    useEffect(() => {\n        socket.on('room-created', room => {\n            setRooms([...rooms, room])\n        })\n    }, [rooms])\n    useEffect(() => {\n        console.log(rooms)\n    }, [rooms])\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        socket.emit('create-room', { name: room, user_id: user._id });\n        console.log(room);\n        setRoom('');\n\n    }\n  \n    if (!user) {\n        return <Redirect to='/login' />\n    }\n    const handleChange = (event, newValue) => {\n        setValue(newValue);\n    };\n    return (\n        <Box sx={{ width: '100%' }}>\n            <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\n                <Tabs value={value} onChange={handleChange} aria-label=\"basic tabs example\">\n                    <Tab label=\"Item One\" {...a11yProps(0)} />\n                    <Tab label=\"Item Two\" {...a11yProps(1)} />\n                    <Tab label=\"Item Three\" {...a11yProps(2)} />\n                </Tabs>\n            </Box>\n            <TabPanel value={value} index={0}>\n                Item One\n            </TabPanel>\n            <TabPanel value={value} index={1}>\n                Item Two\n            </TabPanel>\n            <TabPanel value={value} index={2}>\n                Item Three\n            </TabPanel>\n        </Box>\n    )\n}\n\nexport default Home\n"]},"metadata":{},"sourceType":"module"}